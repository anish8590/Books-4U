{"version":3,"sources":["backend.js","auth/helper/index.js","core/menu.js","core/Base.js","core/helper/ImageHelper.js","core/Card.js","core/helper/cartHelper.js","core/Home.js","core/helper/coreapicalls.js","user/Signup.js","user/Signin.js","auth/helper/AdminRoutes.js","auth/helper/PrivateRoutes.js","user/UserDashBoard.js","user/AdminDashBoard.js","admin/helper/adminapicall.js","admin/AddCategory.js","admin/ManageCategories.js","admin/AddProduct.js","admin/ManageProducts.js","admin/UpdateProduct.js","admin/Updatecategory.js","core/Paymentb.js","core/helper/paymentbhelper.js","core/helper/orderHelper.js","core/Cart.js","Routes.js","index.js"],"names":["API","process","isAuthenticated","window","localStorage","getItem","JSON","parse","currentTab","history","path","location","pathname","color","withRouter","className","style","to","user","role","onClick","next","removeItem","fetch","method","then","response","console","log","catch","err","signout","push","Base","title","description","children","ImageHelper","product","imageurl","_id","src","alt","maxHeight","maxWidth","Card","addtoCart","removeFromCart","setReload","f","reload","undefined","useState","redirect","setRedirect","count","cartTitle","name","cartDescrption","cartPrice","price","addToCart","item","cart","setItem","stringify","addItemToCart","getARedirect","showAddToCart","productId","map","index","splice","removeItemFromCart","showRemoveFromCart","Home","products","setProducts","setError","loadAllProduct","json","data","error","useEffect","Signup","email","password","success","values","setValues","handleChange","event","target","value","onSubmit","preventDefault","headers","Accept","body","display","onChange","type","Signin","loading","didRedirect","signin","authenticate","AdminRoute","Component","component","rest","render","props","state","from","PrivateRoute","UserDashBoard","AdminDashBoard","backgroundColor","getCategories","AddCategory","setName","setSuccess","token","userId","category","Authorization","createCategory","successMessage","warningMessage","autoFocus","required","placeholder","ManageCategories","categories","setCategories","preload","deleteThisCategory","categoryId","deleteCategory","AddProduct","stock","photo","createdProduct","getaRedirect","formData","FormData","createaProduct","files","set","accept","ManageProducts","deleteThisProduct","deleteProduct","UpdateProduct","match","getProduct","preloadCategories","params","updateProduct","cate","UpdateCategory","updateCategory","Paymentb","clientToken","instance","info","setInfo","getToken","getmeToken","onPurchase","requestPaymentMethod","paymentData","paymentMethodNonce","nonce","amount","getAmount","paymentInfo","processPayment","orderData","transaction_id","transaction","id","order","reponse","createOrder","p","length","options","authorization","onInstance","width","Cart","loadCart","loadAllProducts","Routes","exact","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.ff00bd5b.chunk.js","sourcesContent":["export const API=process.env.REACT_APP_BACKEND;","import { API } from \"../../backend\";\r\n//API --> http://localhost:7090/api/\r\n\r\nexport const signup = user => {\r\n    return fetch(`${API}/signup`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify(user)\r\n    })\r\n      .then(response => {\r\n        return response.json();\r\n      })\r\n      .catch(err => console.log(err));\r\n  };\r\n  \r\n  export const signin = user => {\r\n    return fetch(`${API}/signin`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify(user)\r\n    })\r\n      .then(response => {\r\n        return response.json();\r\n      })\r\n      .catch(err => console.log(err));\r\n  };\r\n\r\n//add token to browser\r\nexport const authenticate = (data, next) => {\r\n    if (typeof window !== \"undefined\") {\r\n      localStorage.setItem(\"jwt\", JSON.stringify(data));\r\n      next();\r\n    }\r\n};\r\n\r\nexport const signout = next => {\r\n    if (typeof window !== \"undefined\") {\r\n      localStorage.removeItem(\"jwt\");\r\n      next();\r\n  \r\n      return fetch(`${API}/signout`, {\r\n        method: \"GET\"\r\n      })\r\n        .then(response => console.log(\"signout success\"))\r\n        .catch(err => console.log(err));\r\n    }\r\n  };\r\n  \r\n  //populates users in browser\r\nexport const isAuthenticated = () => {\r\n    //window object --> jwt stored\r\n    if (typeof window == \"undefined\") {\r\n      return false;\r\n    }\r\n    if (localStorage.getItem(\"jwt\")) {\r\n      return JSON.parse(localStorage.getItem(\"jwt\"));\r\n    } else {\r\n      return false;\r\n    }\r\n};","import React, {Fragment} from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport { signout, isAuthenticated } from \"../auth/helper\";\r\n\r\n//history from url\r\nconst currentTab = (history, path) => {\r\n  if (history.location.pathname === path) {\r\n    return { color: \"#2ecc72\" };\r\n  } else {\r\n    return { color: \"#FFFFFF\" };\r\n  }\r\n};\r\n\r\nconst Menu = ({ history }) => (\r\n  <div>\r\n    <ul className=\"nav nav-tabs bg-dark\">\r\n      <li className=\"nav-item\">\r\n        <Link style={currentTab(history, \"/\")} className=\"nav-link\" to=\"/\">\r\n          Home\r\n        </Link>\r\n      </li>\r\n      <li className=\"nav-item\">\r\n        <Link\r\n          style={currentTab(history, \"/cart\")}\r\n          className=\"nav-link\"\r\n          to=\"/cart\"\r\n        >\r\n          Cart\r\n        </Link>\r\n      </li>\r\n      {isAuthenticated() && isAuthenticated().user.role===0 &&(\r\n      <li className=\"nav-item\">\r\n        <Link\r\n          style={currentTab(history, \"/user/dashboard\")}\r\n          className=\"nav-link\"\r\n          to=\"/user/dashboard\"\r\n        >\r\n          U. Dashboard\r\n        </Link>\r\n      </li>\r\n      )}\r\n\r\n      {isAuthenticated() && isAuthenticated().user.role===1 &&(\r\n          <li className=\"nav-item\">\r\n          <Link\r\n            style={currentTab(history, \"/admin/dashboard\")}\r\n            className=\"nav-link\"\r\n            to=\"/admin/dashboard\"\r\n          >\r\n            A. Dashboard\r\n          </Link>\r\n        </li>\r\n      )}\r\n      \r\n      <Fragment>\r\n      {!isAuthenticated() && (<li className=\"nav-item\">\r\n        <Link\r\n          style={currentTab(history, \"/signup\")}\r\n          className=\"nav-link\"\r\n          to=\"/signup\"\r\n        >\r\n          Signup\r\n        </Link>\r\n      </li> )}\r\n      {!isAuthenticated() && (<li className=\"nav-item\">\r\n        <Link\r\n          style={currentTab(history, \"/signin\")}\r\n          className=\"nav-link\"\r\n          to=\"/signin\"\r\n        >\r\n          Sign In\r\n        </Link>\r\n      </li> )}\r\n      </Fragment>\r\n\r\n      { isAuthenticated() &&( <li className=\"nav-item\">\r\n        <span className=\"nav-link text-warning\"\r\n         onClick={ () => { \r\n           signout(() =>{\r\n           history.push(\"/\")//route to home\r\n            })\r\n          } \r\n         }>\r\n          Signout\r\n        </span>\r\n      \r\n      </li> )}\r\n    </ul>\r\n  </div>\r\n);\r\n\r\nexport default withRouter(Menu);\r\n\r\n//withRouter picks up route using link from routes.js\r\n\r\n","import React from \"react\";\r\nimport Menu from \"./menu.js\";\r\n\r\n//function based component\r\nconst Base = ({\r\n  //for reusability by injecting parameters\r\n  title = \"My Title\",\r\n  //over written  by child\r\n  description = \"My desription\",\r\n  className = \"bg-dark text-white p-4\",\r\n  children\r\n  //home file component is got by - children - as used Base tag there\r\n}) => (\r\n  <div>\r\n    <Menu/>\r\n    <div className=\"container-fluid\">\r\n      <div className=\"jumbotron bg-dark text-white text-center\">\r\n        <h2 className=\"display-4\">{title}</h2>\r\n        <p className=\"lead\">{description}</p>\r\n      </div>\r\n      <div className={className}>{children}</div>\r\n    </div>\r\n    \r\n    <footer className=\"footer bg-dark mt-auto py-3\">\r\n      <div className=\"container-fluid bg-success text-white text-center py-3\">\r\n        <h4>If you got any questions, feel free to reach out!</h4>\r\n        <button className=\"btn btn-warning btn-lg\">Contact Us</button>\r\n      </div>\r\n      <div className=\"container\">\r\n        <span className=\"text-muted\">\r\n          An Amazing <span className=\"text-white\">MERN</span> Bootcamp\r\n        </span>\r\n      </div>\r\n    </footer>\r\n  </div>\r\n);\r\n\r\nexport default Base;\r\n\r\n  ","import React from \"react\";\nimport { API } from \"../../backend\";\n\n//helps image retrive from DB with id & API Call\n\nconst ImageHelper = ({ product }) => {\n  const imageurl = product\n    ? `${API}/product/photo/${product._id}`\n    : `https://images.pexels.com/photos/4626371/pexels-photo-4626371.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500`;\n  return (\n    <div className=\"rounded border border-success p-2\">\n      <img\n        src={imageurl}\n        alt=\"photo\"\n        style={{ maxHeight: \"100%\", maxWidth: \"100%\" }}\n        className=\"mb-3 rounded\"\n      />\n    </div>\n  );\n};\n\nexport default ImageHelper;\n","import React , {useState, useEffect} from \"react\";\nimport ImageHelper from \"./helper/ImageHelper\";\nimport { Redirect } from \"react-router-dom\";\nimport { addItemToCart, removeItemFromCart } from \"./helper/cartHelper\";\n\n//Card component that is extremely Reused with product-id\n//Calls Image helper to get image from DB with id\n\nconst Card = ({ product, addtoCart = true, removeFromCart = false , \n  setReload= f => f,\n  //function(f){return f} , \n  reload=undefined}) => {\n  \n  const [redirect, setRedirect] = useState(false);\n  const [count, setCount] = useState(product.count);\n\n  //to load details of each product\n  const cartTitle = product ? product.name : \"A photo from pexels\";\n  const cartDescrption = product ? product.description : \"Default description\";\n  const cartPrice = product ? product.price : \"DEFAULT\";\n\n  const addToCart = () => {\n    //used callback of setRedirect\n    addItemToCart(product, () => setRedirect(true));\n  };\n\n  const getARedirect = redirect => {\n    if (redirect) {\n      return <Redirect to=\"/cart\" />;\n    }\n  };\n\n  //Conditional rendering\n  const showAddToCart = addtoCart => {\n    return (\n      addtoCart && (\n        <button\n          onClick={addToCart}\n          className=\"btn btn-block btn-outline-success mt-2 mb-2\"\n        >\n          Add to Cart\n        </button>\n      )\n    );\n  };\n\n  const showRemoveFromCart = removeFromCart => {\n    return (\n      removeFromCart && (\n        <button\n          onClick={() => {\n            removeItemFromCart(product._id)\n            //reload necessary after removing item\n            //reload done in cart.js\n            setReload(!reload);\n            //can transfer to child so, uses method\n          }}\n          className=\"btn btn-block btn-outline-danger mt-2 mb-2\"\n        >\n          Remove from cart\n        </button>\n      )\n    );\n  };\n  return (\n    <div className=\"card text-white bg-dark border border-info \">\n      <div className=\"card-header lead\">{cartTitle}</div>\n      <div className=\"card-body\">\n        {getARedirect(redirect)}\n        <ImageHelper product={product} />\n        <p className=\"lead bg-success font-weight-normal text-wrap\">\n          {cartDescrption}\n        </p>\n        <p className=\"btn btn-success rounded  btn-sm px-4\">$ {cartPrice}</p>\n        <div className=\"row\">\n          <div className=\"col-12\">{showAddToCart(addtoCart)}</div>\n          <div className=\"col-12\">{showRemoveFromCart(removeFromCart)}</div>\n        </div>\n      </div>\n    </div>\n  );//cart arguments are true or false value\n};\n\nexport default Card;\n","//next() for call back\nexport const addItemToCart = (item, next) => {\n  let cart = [];\n  //if access to window object\n  if (typeof window !== undefined) {\n    //previous products in cart\n    if (localStorage.getItem(\"cart\")) {\n      //temporary cart\n      cart = JSON.parse(localStorage.getItem(\"cart\"));\n    }\n    //item added to cart\n    cart.push({\n      ...item,\n      count: 1\n    });\n\n    //cart to localStorage\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\n    //console.log(cart);\n    next();\n  }\n};\n\nexport const loadCart = () => {\n  if (typeof window !== undefined) {\n    if (localStorage.getItem(\"cart\")) {\n      return JSON.parse(localStorage.getItem(\"cart\"));\n    }\n  }\n};\n\nexport const removeItemFromCart = productId => {\n  let cart = [];\n  //temporary cart loaded\n  if (typeof window !== undefined) {\n    if (localStorage.getItem(\"cart\")) {\n      cart = JSON.parse(localStorage.getItem(\"cart\"));\n    }\n\n    //match id deleted\n    cart.map((product, index) => {\n      if (product._id === productId) {\n        cart.splice(index, 1);//index and number of items\n      }\n    });\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\n  }\n  return cart;\n};\n\n\nexport const cartEmpty = next => {\n  //temporary cart loaded\n  if (typeof window !== undefined) {\n     (localStorage.removeItem(\"cart\")) ;\n     let cart=[];\n     localStorage.setItem(\"cart\", JSON.stringify(cart));\n     next();\n  }\n};\n\n","import React , { useState, useEffect } from \"react\";\r\nimport \"../styles.css\";\r\nimport { API } from \"../backend\";\r\nimport Base from \"./Base\";\r\nimport Card from \"./Card\";\r\nimport { getProducts } from \"./helper/coreapicalls\";\r\n\r\nexport default function Home() {\r\n  //console.log(\"API IS\", API);\r\n\r\n  //products to get in cards on home page\r\n  const [products, setProducts] = useState([]);\r\n  const [error, setError] = useState(false);\r\n\r\n  //loads all products to state\r\n  const loadAllProduct = () => {\r\n    getProducts().then(data => {\r\n      if (data.error) {\r\n        setError(data.error);\r\n      } else {\r\n        setProducts(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadAllProduct();\r\n  }, []);\r\n  \r\n  return (\r\n    <Base title=\"Home Page\" description=\"Welcome to the tshirt Store\">\r\n      <div className=\"row text-center\">\r\n        <h1 className=\"text-white\">All of tshirts</h1>\r\n        <div className=\"row\">\r\n          {products.map((product, index) => {\r\n            return (\r\n              <div key={index} className=\"col-4 mb-4\">\r\n                <Card product={product} />\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </Base>\r\n  );\r\n}\r\n\r\n\r\n","import { API } from \"../../backend\";\r\n\r\nexport const getProducts = () => {\r\n  return fetch(`${API}/products`, { method: \"GET\" })\r\n    .then(response => {\r\n      return response.json();\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n","import React, { useState } from \"react\";\r\nimport Base from \"../core/Base\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { signup } from \"../auth/helper\";\r\n\r\nconst Signup = () => {\r\n\r\n    //default values of object information\r\n    //State of Page \r\n    const [values, setValues] = useState({\r\n        name: \"\",\r\n        email: \"\",\r\n        password: \"\",\r\n        error: \"\",\r\n        success: false\r\n    });\r\n\r\n    //destructring values\r\n    const { name, email, password, error, success } = values;\r\n\r\n    //based on what we pass \r\n    //treat function as function/variable\r\n    //pass name to event\r\n    \r\n    const handleChange = name => event => {\r\n        //load values, error(render based on error), set value\r\n        setValues({ ...values, error: false, [name]: event.target.value });\r\n    };\r\n\r\n    const onSubmit = event => {\r\n        event.preventDefault();\r\n        setValues({ ...values, error: false });\r\n        signup({ name, email, password })\r\n        .then(data => {\r\n            if (data.error) {\r\n              setValues({ ...values, error: data.error, success: false });\r\n            } else {\r\n              setValues({\r\n                ...values,\r\n                name: \"\",\r\n                email: \"\",\r\n                password: \"\",\r\n                error: \"\",\r\n                success: true\r\n              });\r\n            }\r\n          })\r\n        .catch(console.log(\"Error in signup\"));\r\n    };\r\n\r\n    const signUpForm = () => {\r\n        return (\r\n          <div className=\"row\">\r\n            <div className=\"col-md-6 offset-sm-3 text-left\">\r\n              <form>\r\n                <div className=\"form-group\">\r\n                  <label className=\"text-light\">Name</label>\r\n                  <input\r\n                    className=\"form-control\"\r\n                    onChange={handleChange(\"name\")}\r\n                    type=\"text\"\r\n                    value={name}\r\n                  />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <label className=\"text-light\">Email</label>\r\n                  <input\r\n                    className=\"form-control\"\r\n                    onChange={handleChange(\"email\")}\r\n                    type=\"email\"\r\n                    value={email}\r\n                  />\r\n                </div>\r\n    \r\n                <div className=\"form-group\">\r\n                  <label className=\"text-light\">Password</label>\r\n                  <input\r\n                    onChange={handleChange(\"password\")}\r\n                    className=\"form-control\"\r\n                    type=\"password\"\r\n                    value={password}\r\n                  />\r\n                </div>\r\n                <br/>\r\n                <button onClick={onSubmit} className=\"btn btn-success btn-block form-control\">\r\n                  Submit\r\n                </button>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        );\r\n      };\r\n      \r\n      const successMessage = () => {\r\n        return (\r\n          <div className=\"row\">\r\n            <div className=\"col-md-6 offset-sm-3 text-left\">\r\n              <div\r\n                className=\"alert alert-success\"\r\n                style={{ display: success ? \"\" : \"none\" }}\r\n              >\r\n                New account was created successfully. Please\r\n                <Link to=\"/signin\">Login Here</Link>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n      };\r\n    \r\n      const errorMessage = () => {\r\n        return (\r\n          <div className=\"row\">\r\n            <div className=\"col-md-6 offset-sm-3 text-left\">\r\n              <div\r\n                className=\"alert alert-danger\"\r\n                style={{ display: error ? \"\" : \"none\" }}\r\n              >\r\n                {error}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n      };\r\n\r\n\r\n      return (\r\n        <Base title=\"Sign up page\" description=\"A page for user to sign up!\">\r\n          {successMessage()}\r\n          {errorMessage()}\r\n          {signUpForm()}\r\n          <p className=\"text-light text-center\">{JSON.stringify(values)}</p>\r\n        </Base>\r\n      );\r\n    };  \r\n    \r\nexport default Signup;\r\n    ","import React, { useState } from \"react\";\r\nimport Base from \"../core/Base\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\n\r\nimport { signin, authenticate, isAuthenticated } from \"../auth/helper\";\r\n\r\nconst Signin = () => {\r\n  const [values, setValues] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n    error: \"\",\r\n    loading: false,\r\n    didRedirect: false\r\n  });\r\n\r\n  const { email, password, error, loading, didRedirect } = values;\r\n  const { user } = isAuthenticated();\r\n\r\n  const handleChange = name => event => {\r\n    setValues({ ...values, error: false, [name]: event.target.value });\r\n  };\r\n\r\n  const onSubmit = event => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: false, loading: true });\r\n    signin({ email, password })\r\n      .then(data => {\r\n        if (data.error) {\r\n          setValues({ ...values, error: data.error, loading: false });\r\n        } else {\r\n          authenticate(data, () => {\r\n            setValues({\r\n              ...values,\r\n              didRedirect: true\r\n            });\r\n          });\r\n        }\r\n      })\r\n      .catch(console.log(\"signin request failed\"));\r\n  };\r\n\r\n  const performRedirect = () => {\r\n    //TODO: do a redirect here\r\n    if (didRedirect) {\r\n      if (user && user.role === 1) {\r\n        return <Redirect to=\"/admin/dashboard\"/>;\r\n      } else {\r\n        return <Redirect to=\"/user/dashboard\"/>;\r\n      }\r\n    }\r\n    if (isAuthenticated()) {\r\n      return <Redirect to=\"/\" />;\r\n    }\r\n  };\r\n\r\n  const loadingMessage = () => {\r\n    return (\r\n      loading && (\r\n        <div className=\"alert alert-info\">\r\n          <h2>Loading...</h2>\r\n        </div>\r\n      )\r\n    );\r\n  };\r\n\r\n  const errorMessage = () => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-sm-3 text-left\">\r\n          <div\r\n            className=\"alert alert-danger\"\r\n            style={{ display: error ? \"\" : \"none\" }}\r\n          >\r\n            {error}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const signInForm = () => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-sm-3 text-left\">\r\n          <form>\r\n            <div className=\"form-group\">\r\n              <label className=\"text-light\">Email</label>\r\n              <input\r\n                onChange={handleChange(\"email\")}\r\n                value={email}\r\n                className=\"form-control\"\r\n                type=\"email\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label className=\"text-light\">Password</label>\r\n              <input\r\n                onChange={handleChange(\"password\")}\r\n                value={password}\r\n                className=\"form-control\"\r\n                type=\"password\"\r\n              />\r\n            </div>\r\n            <br/>\r\n            <button onClick={onSubmit} className=\"btn btn-success btn-block form-control\">\r\n              Submit\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Base title=\"Sign In page\" description=\"A page for user to sign in!\">\r\n      {loadingMessage()}\r\n      {errorMessage()}\r\n      {signInForm()}\r\n      {performRedirect()}\r\n      <p className=\"text-white text-center\">{JSON.stringify(values)}</p>\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default Signin;\r\n","import React from \"react\";\r\nimport {Route, Redirect} from \"react-router-dom\";\r\nimport { isAuthenticated } from \"./index\";\r\n\r\n// A wrapper for <Route> that redirects to the login\r\n// screen if you're not yet authenticated.\r\n//https://reactrouter.com/web/example/auth-workflow\r\n//can mount children or components\r\n//only loggedin users can see this components\r\nconst AdminRoute = ({ component: Component, ...rest }) => {\r\n    return (\r\n      <Route\r\n        {...rest}\r\n        render={props =>\r\n          isAuthenticated() && isAuthenticated().user.role===1 ? (\r\n            <Component {...props} />\r\n          ) : (\r\n            <Redirect\r\n              to={{\r\n                pathname: \"/signin\",\r\n                state: { from: props.location }\r\n              }}\r\n            />\r\n          )\r\n        }\r\n      />\r\n    );\r\n}\r\n\r\nexport default AdminRoute;","import React from \"react\";\r\nimport {Route, Redirect} from \"react-router-dom\";\r\nimport { isAuthenticated } from \"./index\";\r\n\r\n// A wrapper for <Route> that redirects to the login\r\n// screen if you're not yet authenticated.\r\n//https://reactrouter.com/web/example/auth-workflow\r\n//can mount children or components\r\n//only loggedin users can see this components\r\nconst PrivateRoute = ({ component: Component, ...rest }) => {\r\n    return (\r\n      <Route\r\n        {...rest}\r\n        render={props =>\r\n          isAuthenticated() ? (\r\n            <Component {...props} />\r\n          ) : (\r\n            <Redirect\r\n              to={{\r\n                pathname: \"/signin\",\r\n                state: { from: props.location }\r\n              }}\r\n            />\r\n          )\r\n        }\r\n      />\r\n    );\r\n}\r\n\r\nexport default PrivateRoute;","import React from 'react';\r\nimport Base from \"../core/Base\";\r\n\r\nconst UserDashBoard = ()=>{\r\n    return(\r\n        <Base>\r\n            <h1>This is UserDashBoard page</h1>\r\n        </Base>\r\n    );\r\n};\r\n\r\nexport default UserDashBoard;","import React from 'react';\r\nimport Base from \"../core/Base\";\r\nimport { isAuthenticated } from '../auth/helper';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nconst AdminDashBoard = ()=>{\r\n\r\n    //destructuring\r\n    const { user: {name, email, role} } = isAuthenticated();\r\n\r\n    const adminLeft = () =>{\r\n        return (\r\n            <div className=\"card\">\r\n                <h4 className=\"card-header bg-dark text-white\">\r\n                    Admin Navigation\r\n                </h4>\r\n                <ul className=\"list-group\">\r\n                    <li className=\"list-group-item\">\r\n                        <Link to=\"/admin/create/category\" className=\"nav-link text-info\">Create Category</Link>\r\n                    </li>\r\n                    <li className=\"list-group-item\">\r\n                        <Link to=\"/admin/category\" className=\"nav-link text-info\">Manage Categories</Link>\r\n                    </li>\r\n                    <li className=\"list-group-item\">\r\n                        <Link to=\"/admin/create/product\" className=\"nav-link text-info\">Create Product</Link>\r\n                    </li>\r\n                    <li className=\"list-group-item\">\r\n                        <Link to=\"/admin/products\" className=\"nav-link text-info\">Manage Products</Link>\r\n                    </li>\r\n                    <li className=\"list-group-item\">\r\n                        <Link to=\"/admin/orders\" className=\"nav-link text-info\">Manage Orders</Link>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const adminRight = () => {\r\n        return (\r\n          <div className=\"card mb-4\">\r\n            <h4 className=\"card-header\">Admin Information</h4>\r\n            <ul className=\"list-group\">\r\n              <li className=\"list-group-item\">\r\n                <span className=\"badge badge-success mr-2\" style={{color:\"white\"},{backgroundColor:\"green\"}}>Name:</span> {name}\r\n              </li>\r\n              <li className=\"list-group-item\">\r\n                <span className=\"badge mr-2\" style={{color:\"white\"},{backgroundColor:\"green\"}} >Email:</span> {email}\r\n              </li>\r\n    \r\n              <li className=\"list-group-item\">\r\n                <span className=\"badge badge-danger\" style={{color:\"white\"},{backgroundColor:\"Red\"}}>Admin Area</span>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        );\r\n      };\r\n\r\n    return(\r\n        <Base title=\"Welcome to Admin Area\" description=\"Manage all of your products here\"\r\n            className=\"container bg-success p-4\">\r\n            <div className=\"row\">\r\n                <div className=\"col-3\">\r\n                    {adminLeft()}\r\n                </div>\r\n                <div className=\"col-9\">\r\n                    {adminRight()}\r\n                </div>\r\n            </div>\r\n        </Base>\r\n    );\r\n};\r\n\r\nexport default AdminDashBoard;","import { API } from \"../../backend\";\r\n\r\n//category calls\r\nexport const createCategory = (userId, token, category) => {\r\n  return fetch(`${API}/category/create/${userId}`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`\r\n    },\r\n    body: JSON.stringify(category)\r\n  })\r\n    .then(response => {\r\n      return response.json();\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n\r\n//get all categories\r\nexport const getCategories = () => {\r\n  return fetch(`${API}/categories`, {\r\n    method: \"GET\"\r\n  })\r\n    .then(response => {\r\n      return response.json();\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n\r\n//delete Category\r\nexport const deleteCategory = (categoryId, userId, token) => {\r\n  return fetch(`${API}/category/${categoryId}/${userId}`, {\r\n    method: \"DELETE\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      Authorization: `Bearer ${token}`\r\n    }\r\n  })\r\n    .then(response => {\r\n      return response.json();\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n\r\n//update a Category\r\n\r\nexport const updateCategory = (categoryId, userId, token, category) => {\r\n  console.log(JSON.stringify(category));\r\n  return fetch(`${API}/category/${categoryId}/${userId}`, {\r\n    method: \"PUT\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`\r\n    },\r\n    body: JSON.stringify(category)\r\n  })\r\n    .then(response => {\r\n      return response.json();\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n\r\n\r\n//products calls\r\n\r\n//create a product\r\nexport const createaProduct = (userId, token, product) => {\r\n  return fetch(`${API}/product/create/${userId}`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      Authorization: `Bearer ${token}`\r\n    },\r\n    body: product\r\n  })\r\n    .then(response => {\r\n      return response.json();\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n\r\n//get all products\r\nexport const getProducts = () => {\r\n  return fetch(`${API}/products`, {\r\n    method: \"GET\"\r\n  })\r\n    .then(response => {\r\n      return response.json();\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n\r\n//delete a product\r\n\r\nexport const deleteProduct = (productId, userId, token) => {\r\n  return fetch(`${API}/product/${productId}/${userId}`, {\r\n    method: \"DELETE\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      Authorization: `Bearer ${token}`\r\n    }\r\n  })\r\n    .then(response => {\r\n      return response.json();\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n\r\n//get a product\r\n\r\nexport const getProduct = productId => {\r\n  return fetch(`${API}/product/${productId}`, {\r\n    method: \"GET\"\r\n  })\r\n    .then(response => {\r\n      return response.json();\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n\r\n//update a product\r\n\r\nexport const updateProduct = (productId, userId, token, product) => {\r\n  return fetch(`${API}/product/${productId}/${userId}`, {\r\n    method: \"PUT\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      Authorization: `Bearer ${token}`\r\n    },\r\n    body: product\r\n  })\r\n    .then(response => {\r\n      return response.json();\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n","import React, { useState } from \"react\";\r\nimport Base from \"../core/Base\";\r\nimport { isAuthenticated } from \"../auth/helper\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { createCategory } from \"./helper/adminapicall\";\r\n\r\nconst AddCategory = () => {\r\n  const [name, setName] = useState(\"\");\r\n  const [error, setError] = useState(false);\r\n  const [success, setSuccess] = useState(false);\r\n\r\n    //destructure\r\n    const { user, token } = isAuthenticated();\r\n\r\n  const goBack = () => (\r\n    <div className=\"mt-5\">\r\n      <Link className=\"btn btn-sm btn-success mb-3\" to=\"/admin/dashboard\">\r\n        Admin Home\r\n      </Link>\r\n    </div>\r\n  );\r\n\r\n  const handleChange = event => {\r\n    setError(\"\");\r\n    setName(event.target.value);\r\n  };\r\n\r\n  const onSubmit = event => {\r\n    event.preventDefault();\r\n    setError(\"\");\r\n    setSuccess(false);\r\n\r\n    //backend request\r\n    createCategory(user._id, token, { name }).then(data => {\r\n      //console.log(name);\r\n      if (data.error) {\r\n        setError(true);\r\n      } else {\r\n        setError(\"\");\r\n        setSuccess(true);\r\n        setName(\"\");\r\n      }\r\n    });\r\n  };\r\n\r\n  const successMessage = () => {\r\n    if (success) {\r\n      return <h4 className=\"text-success\">Category created successfully</h4>;\r\n    }\r\n  };\r\n\r\n  const warningMessage = () => {\r\n    if (error) {\r\n      return <h4 className=\"text-success\">Failed to create category</h4>;\r\n    }\r\n  };\r\n\r\n    //Form\r\n    const myCategoryForm = () => (\r\n        <form>\r\n          <div className=\"form-group\">\r\n            <p className=\"lead\">Enter the category</p>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control my-3\"\r\n              onChange={handleChange}\r\n              value={name}\r\n              autoFocus\r\n              required\r\n              placeholder=\"Category name\"\r\n            />\r\n            <button onClick={onSubmit} className=\"btn btn-outline-info\">\r\n              Create Category\r\n            </button>\r\n          </div>\r\n        </form>\r\n    );\r\n\r\n    return (\r\n        <Base\r\n          title=\"Create a category here\"\r\n          description=\"Add a new category for new tshirts\"\r\n          className=\"container bg-info p-4\"\r\n        >\r\n          <div className=\"row bg-white rounded\">\r\n            <div className=\"col-md-8 offset-md-2\">\r\n              {successMessage()}\r\n              {warningMessage()}\r\n              {myCategoryForm()}\r\n              {goBack()}\r\n            </div>\r\n          </div>\r\n        </Base>\r\n    );\r\n};\r\n\r\nexport default AddCategory;","import React, { useState, useEffect } from \"react\";\r\nimport Base from \"../core/Base\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { isAuthenticated } from \"../auth/helper\";\r\nimport { getCategories, deleteCategory } from \"./helper/adminapicall\";\r\n\r\nconst ManageCategories = () => {\r\n  const [categories, setCategories] = useState([]);\r\n\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const preload = () => {\r\n    getCategories().then(data => {\r\n      if (data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        setCategories(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    preload();\r\n  }, []);\r\n\r\n  //CHECK\r\n  const deleteThisCategory = categoryId => {\r\n    deleteCategory(categoryId, user._id, token).then(data => {\r\n      console.log(data);\r\n      if (data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        preload();\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Base title=\"Welcome admin\" description=\"Manage products here\">\r\n      <h2 className=\"mb-4\">All Categoriess:</h2>\r\n      <Link className=\"btn btn-info\" to={`/admin/dashboard`}>\r\n        <span className=\"\">Admin Home</span>\r\n      </Link>\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n          <h2 className=\"text-center text-white my-3\">Total 3 products</h2>\r\n          {categories.map((category, index) => {\r\n            return (\r\n              <div key={index} className=\"row text-center mb-2 \">\r\n                <div className=\"col-4\">\r\n                  <h3 className=\"text-white text-left\">{category.name}</h3>\r\n                </div>\r\n                <div className=\"col-4\">\r\n                  <Link\r\n                    className=\"btn btn-success\"\r\n                    to={`/admin/category/update/${category._id}`}\r\n                  >\r\n                    <span className=\"\">Update</span>\r\n                  </Link>\r\n                </div>\r\n                <div className=\"col-4\">\r\n                  <button\r\n                   onClick={() => {deleteThisCategory(category._id);}}\r\n                    className=\"btn btn-danger\"\r\n                  >\r\n                    Delete\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n          \r\n        </div>\r\n      </div>\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default ManageCategories;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Base from \"../core/Base\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getCategories, createaProduct } from \"./helper/adminapicall\";\r\nimport { isAuthenticated } from \"../auth/helper/index\";\r\n\r\n\r\n\r\nconst AddProduct = () => {\r\n    const { user, token } = isAuthenticated();\r\n    //initial states\r\n    const [values, setValues] = useState({\r\n      name: \"\",\r\n      description: \"\",\r\n      price: \"\",\r\n      stock: \"\",\r\n      photo: \"\",\r\n      categories: [],\r\n      category: \"\",\r\n      loading: false,\r\n      error: \"\",\r\n      createdProduct: \"\",\r\n      getaRedirect: false,\r\n      formData: \"\"\r\n    });\r\n  \r\n\r\n  //destructuring\r\n  const {\r\n    name,\r\n    description,\r\n    price,\r\n    stock,\r\n    categories,\r\n    category,\r\n    loading,\r\n    error,\r\n    createdProduct,\r\n    getaRedirect,\r\n    formData\r\n  } = values;\r\n\r\n  //DONE\r\n  //preloads everything\r\n   const preload = () => {\r\n    //all categories are obtained\r\n    //for category selection in form\r\n    getCategories().then(data => {\r\n      console.log(data);\r\n      // ?--> optional chaining\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        setValues({ ...values, categories: data, formData: new FormData() });\r\n      }\r\n    });\r\n  };\r\n\r\n  //useeffect to preload things - hooks thing\r\n  useEffect(() => {\r\n    preload();\r\n  }, []);\r\n\r\n  const onSubmit = event => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: \"\", loading: true });\r\n    createaProduct(user._id, token, formData).then(data => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        setValues({\r\n          ...values,\r\n          name: \"\",\r\n          description: \"\",\r\n          price: \"\",\r\n          photo: \"\",\r\n          stock: \"\",\r\n          loading: false,\r\n          createdProduct: data.name\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleChange = name => event => {\r\n    const value = name === \"photo\" ? event.target.files[0] : event.target.value;\r\n    formData.set(name, value);\r\n    setValues({ ...values, [name]: value });\r\n  };\r\n\r\n  const successMessage = () => (\r\n    <div\r\n      className=\"alert alert-success mt-3\"\r\n      style={{ display: createdProduct ? \"\" : \"none\" }}\r\n    >\r\n      <h4>{createdProduct} created successfully</h4>\r\n    </div>\r\n  );\r\n\r\n  const createProductForm = () => (\r\n    <form>\r\n      <span>Post photo</span>\r\n      <div className=\"form-group\">\r\n        <label className=\"btn btn-block btn-success\">\r\n          <input\r\n            onChange={handleChange(\"photo\")}\r\n            type=\"file\"\r\n            name=\"photo\"\r\n            accept=\"image\"\r\n            placeholder=\"choose a file\"\r\n          />\r\n        </label>\r\n      </div>\r\n      <br/>\r\n      <div className=\"form-group\">\r\n        <input\r\n          onChange={handleChange(\"name\")}\r\n          name=\"photo\"\r\n          className=\"form-control\"\r\n          placeholder=\"Name\"\r\n          value={name}\r\n        />\r\n      </div>\r\n      <br/>\r\n      <div className=\"form-group\">\r\n        <textarea\r\n          onChange={handleChange(\"description\")}\r\n          name=\"photo\"\r\n          className=\"form-control\"\r\n          placeholder=\"Description\"\r\n          value={description}\r\n        />\r\n      </div>\r\n      <br/>\r\n      <div className=\"form-group\">\r\n        <input\r\n          onChange={handleChange(\"price\")}\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          placeholder=\"Price\"\r\n          value={price}\r\n        />\r\n      </div>\r\n      <br/>\r\n      <div className=\"form-group\">\r\n        <select\r\n          onChange={handleChange(\"category\")}\r\n          className=\"form-control\"\r\n          placeholder=\"Category\"\r\n        >\r\n          <option>Select</option>\r\n          {categories &&\r\n            categories.map((category, index) => (\r\n              <option key={index} value={category._id}>\r\n                {category.name}\r\n              </option>\r\n            ))}\r\n        </select>\r\n      </div>\r\n      <br/>\r\n      <div className=\"form-group\">\r\n        <input\r\n          onChange={handleChange(\"stock\")}\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          placeholder=\"Stock\"\r\n          value={stock}\r\n        />\r\n      </div>\r\n      <br/>\r\n      <button\r\n        type=\"submit\"\r\n        onClick={onSubmit}\r\n        className=\"btn btn-outline-success mb-3\"\r\n      >\r\n        Create Product\r\n      </button>\r\n    </form>\r\n  );\r\n\r\n  return (\r\n    <Base\r\n      title=\"Add a product here!\"\r\n      description=\"Welcome to product creation section\"\r\n      className=\"container bg-info p-4\"\r\n    >\r\n      <Link to=\"/admin/dashboard\" className=\"btn btn-md btn-dark mb-3\">\r\n        Admin Home\r\n      </Link>\r\n      <div className=\"row bg-dark text-white rounded\">\r\n        <div className=\"col-md-8 offset-md-2\">\r\n          {successMessage()}\r\n          {createProductForm()}\r\n        </div>\r\n      </div>\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default AddProduct;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport Base from \"../core/Base\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { isAuthenticated } from \"../auth/helper\";\r\nimport { getProducts, deleteProduct } from \"./helper/adminapicall\";\r\n\r\nconst ManageProducts = () => {\r\n  const [products, setProducts] = useState([]);\r\n\r\n  const { user, token } = isAuthenticated();\r\n\r\n  //DONE\r\n  const preload = () => {\r\n    getProducts().then(data => {\r\n      //console.log(data);\r\n      if (data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        setProducts(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    preload();\r\n  }, []);\r\n\r\n  //CHECK\r\n  const deleteThisProduct = productId => {\r\n    deleteProduct(productId, user._id, token).then(data => {\r\n      console.log(data);\r\n      if (data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        preload();\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Base title=\"Welcome admin\" description=\"Manage products here\">\r\n      <h2 className=\"mb-4\">All products:</h2>\r\n      <Link className=\"btn btn-info\" to={`/admin/dashboard`}>\r\n        <span className=\"\">Admin Home</span>\r\n      </Link>\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n          <h2 className=\"text-center text-white my-3\">Total 3 products</h2>\r\n\r\n          {products.map((product, index) => {\r\n            return (\r\n              <div key={index} className=\"row text-center mb-2 \">\r\n                <div className=\"col-4\">\r\n                  <h3 className=\"text-white text-left\">{product.name}</h3>\r\n                </div>\r\n                <div className=\"col-4\">\r\n                  <Link\r\n                    className=\"btn btn-success\"\r\n                    to={`/admin/product/update/${product._id}`}\r\n                  >\r\n                    <span className=\"\">Update</span>\r\n                  </Link>\r\n                </div>\r\n                <div className=\"col-4\">\r\n                  <button\r\n                    onClick={() => {\r\n                      deleteThisProduct(product._id);\r\n                    }}\r\n                    className=\"btn btn-danger\"\r\n                  >\r\n                    Delete\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default ManageProducts;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Base from \"../core/Base\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n  getCategories,\r\n  getProduct,\r\n  updateProduct\r\n} from \"./helper/adminapicall\";\r\nimport { isAuthenticated } from \"../auth/helper/index\";\r\n\r\nconst UpdateProduct = ({ match }) => {\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const [values, setValues] = useState({\r\n    name: \"\",\r\n    description: \"\",\r\n    price: \"\",\r\n    stock: \"\",\r\n    photo: \"\",\r\n    categories: [],\r\n    category: \"\",\r\n    loading: false,\r\n    error: \"\",\r\n    createdProduct: \"\",\r\n    getaRedirect: false,\r\n    formData: \"\"\r\n  });\r\n\r\n  const {\r\n    name,\r\n    description,\r\n    price,\r\n    stock,\r\n    categories,\r\n    category,\r\n    loading,\r\n    error,\r\n    createdProduct,\r\n    getaRedirect,\r\n    formData\r\n  } = values;\r\n\r\n  const preload = productId => {\r\n    getProduct(productId).then(data => {\r\n      //console.log(data);\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        preloadCategories();\r\n        setValues({\r\n          ...values,\r\n          name: data.name,\r\n          description: data.description,\r\n          price: data.price,\r\n          category: data.category._id,\r\n          stock: data.stock,\r\n          formData: new FormData()\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  const preloadCategories = () => {\r\n      \r\n    getCategories().then(data => {\r\n        //console.log(data);\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        setValues({\r\n          categories: data,\r\n          formData: new FormData()\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    preload(match.params.productId);\r\n  }, []);\r\n\r\n  //TODO: work on it --CHECK\r\n  const onSubmit = event => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: \"\", loading: true });\r\n\r\n    updateProduct(match.params.productId, user._id, token, formData).then(\r\n      data => {\r\n        if (data.error) {\r\n          setValues({ ...values, error: data.error });\r\n        } else {\r\n          setValues({\r\n            ...values,\r\n            name: \"\",\r\n            description: \"\",\r\n            price: \"\",\r\n            photo: \"\",\r\n            stock: \"\",\r\n            loading: false,\r\n            createdProduct: data.name\r\n          });\r\n        }\r\n      }\r\n    );\r\n  };\r\n\r\n  const handleChange = name => event => {\r\n    const value = name === \"photo\" ? event.target.files[0] : event.target.value;\r\n    formData.set(name, value);\r\n    setValues({ ...values, [name]: value });\r\n  };\r\n\r\n  const successMessage = () => (\r\n    <div\r\n      className=\"alert alert-success mt-3\"\r\n      style={{ display: createdProduct ? \"\" : \"none\" }}\r\n    >\r\n      <h4>{createdProduct} updated successfully</h4>\r\n    </div>\r\n  );\r\n\r\n  const createProductForm = () => (\r\n    <form>\r\n      <span>Post photo</span>\r\n      <div className=\"form-group\">\r\n        <label className=\"btn btn-block btn-success\">\r\n          <input\r\n            onChange={handleChange(\"photo\")}\r\n            type=\"file\"\r\n            name=\"photo\"\r\n            accept=\"image\"\r\n            placeholder=\"choose a file\"\r\n          />\r\n        </label>\r\n      </div>\r\n      <br/>\r\n      <div className=\"form-group\">\r\n        <input\r\n          onChange={handleChange(\"name\")}\r\n          name=\"photo\"\r\n          className=\"form-control\"\r\n          placeholder=\"Name\"\r\n          value={name}\r\n        />\r\n      </div>\r\n      <br/>\r\n      <div className=\"form-group\">\r\n        <textarea\r\n          onChange={handleChange(\"description\")}\r\n          name=\"photo\"\r\n          className=\"form-control\"\r\n          placeholder=\"Description\"\r\n          value={description}\r\n        />\r\n      </div>\r\n      <br/>\r\n      <div className=\"form-group\">\r\n        <input\r\n          onChange={handleChange(\"price\")}\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          placeholder=\"Price\"\r\n          value={price}\r\n        />\r\n      </div>\r\n      <br/>\r\n      <div className=\"form-group\">\r\n        <select\r\n          onChange={handleChange(\"category\")}\r\n          className=\"form-control\"\r\n          placeholder=\"Category\"\r\n        >\r\n          <option>Select</option>\r\n          {categories &&\r\n            categories.map((cate, index) => (\r\n              <option key={index} value={cate._id}>\r\n                {cate.name}\r\n              </option>\r\n            ))}\r\n        </select>\r\n      </div>\r\n      <br/>\r\n      <div className=\"form-group\">\r\n        <input\r\n          onChange={handleChange(\"stock\")}\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          placeholder=\"Stock\"\r\n          value={stock}\r\n        />\r\n      </div>\r\n      <br/>\r\n      <button\r\n        type=\"submit\"\r\n        onClick={onSubmit}\r\n        className=\"btn btn-outline-success mb-3\"\r\n      >\r\n        Update Product\r\n      </button>\r\n    </form>\r\n  );\r\n\r\n  return (\r\n    <Base\r\n      title=\"Add a product here!\"\r\n      description=\"Welcome to product creation section\"\r\n      className=\"container bg-info p-4\"\r\n    >\r\n      <Link to=\"/admin/dashboard\" className=\"btn btn-md btn-dark mb-3\">\r\n        Admin Home\r\n      </Link>\r\n      <div className=\"row bg-dark text-white rounded\">\r\n        <div className=\"col-md-8 offset-md-2\">\r\n          {successMessage()}\r\n          {createProductForm()}\r\n        </div>\r\n      </div>\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default UpdateProduct;\r\n","import React, { useState , useEffect} from \"react\";\r\nimport Base from \"../core/Base\";\r\nimport { isAuthenticated } from \"../auth/helper\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {  updateCategory } from \"./helper/adminapicall\";\r\n\r\nconst UpdateCategory = ({match}) => {\r\n  const [name, setName] = useState(\"\");\r\n  const [error, setError] = useState(false);\r\n  const [success, setSuccess] = useState(false);\r\n\r\n    //destructure\r\n    const { user, token } = isAuthenticated();\r\n\r\n  const goBack = () => (\r\n    <div className=\"mt-5\">\r\n      <Link className=\"btn btn-sm btn-success mb-3\" to=\"/admin/dashboard\">\r\n        Admin Home\r\n      </Link>\r\n    </div>\r\n  );\r\n\r\n  const handleChange = event => {\r\n    setError(\"\");\r\n    setName(event.target.value);   \r\n  };\r\n\r\n  const onSubmit = event => {\r\n    event.preventDefault();\r\n    setError(\"\");\r\n    setSuccess(false);\r\n\r\n    //backend request\r\n    updateCategory(match.params.categoryId, user._id, token, { name }).then(data => {\r\n      //console.log(match.params.categoryId);\r\n      if (data.error) {\r\n        setError(true);\r\n      } else {\r\n        setError(\"\");\r\n        setSuccess(true);\r\n        setName(\"\");\r\n      }\r\n    });\r\n  };\r\n\r\n  const successMessage = () => {\r\n    if (success) {\r\n      return <h4 className=\"text-success\">Category updated successfully</h4>;\r\n    }\r\n  };\r\n\r\n  const warningMessage = () => {\r\n    if (error) {\r\n      return <h4 className=\"text-success\">Failed to update category</h4>;\r\n    }\r\n  };\r\n\r\n    //Form\r\n    const myCategoryForm = () => (\r\n        <form>\r\n          <div className=\"form-group\">\r\n            <p className=\"lead\">Enter the new category Name</p>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control my-3\"\r\n              onChange={handleChange}\r\n              value={name}\r\n              autoFocus\r\n              required\r\n              placeholder=\"Category name\"\r\n            />\r\n            <button type=\"submit\" onClick={onSubmit} className=\"btn btn-outline-info\">\r\n              Update Category\r\n            </button>\r\n          </div>\r\n        </form>\r\n    );\r\n\r\n    return (\r\n        <Base\r\n          title=\"Update category here\"\r\n          description=\"Add a new category for new tshirts\"\r\n          className=\"container bg-info p-4\"\r\n        >\r\n          <div className=\"row bg-white rounded\">\r\n            <div className=\"col-md-8 offset-md-2\">\r\n              {successMessage()}\r\n              {warningMessage()}\r\n              {myCategoryForm()}\r\n              {goBack()}\r\n            </div>\r\n          </div>\r\n        </Base>\r\n    );\r\n};\r\n\r\nexport default UpdateCategory;","import React, { useState, useEffect } from \"react\";\nimport { loadCart, cartEmpty } from \"./helper/cartHelper\";\nimport { Link } from \"react-router-dom\";\nimport { getmeToken, processPayment } from \"./helper/paymentbhelper\";\nimport { createOrder } from \"./helper/orderHelper\";\nimport { isAuthenticated } from \"../auth/helper\";\n\nimport DropIn from \"braintree-web-drop-in-react\";\n\nconst Paymentb = ({ products, setReload = f => f, reload = undefined }) => {\n  const [info, setInfo] = useState({\n    loading: false,\n    success: false,\n    clientToken: null,\n    error: \"\",\n    instance: {}\n  });\n\n  const userId = isAuthenticated() && isAuthenticated().user._id;\n  const token = isAuthenticated() && isAuthenticated().token;\n\n  //STEP 1&2 invoked here\n  //info --> response\n  const getToken = (userId, token) => {\n    getmeToken(userId, token).then(info => {\n      // console.log(\"INFORMATION\", info);\n      if (info.error) {\n        setInfo({ ...info, error: info.error });\n      } else {\n        const clientToken = info.clientToken;\n        setInfo({ clientToken });\n      }\n    });\n  };\n\n  //dropin is from brain-tree-wen-drop-in-react docx\n  const showbtdropIn = () => {\n    return (\n      <div>\n        {info.clientToken !== null && products.length > 0 ? (\n          <div>\n            <DropIn\n              options={{ authorization: info.clientToken }}\n              onInstance={instance => (info.instance = instance)}\n            />\n            <button className=\"btn btn-block btn-success\"  style={{width:\"100%\"}} onClick={onPurchase}>\n              Buy\n            </button>\n          </div>\n        ) : (\n          <h3>Please login or add something to cart</h3>\n        )}\n      </div>\n    );\n  };\n\n  useEffect(() => {\n    getToken(userId, token);\n  }, []);\n\n  const onPurchase = () => {\n    setInfo({ loading: true });\n    let nonce;\n    //console.log(info.instance);\n    let getNonce = info.instance.requestPaymentMethod().then(data => {\n      nonce = data.nonce;\n      const paymentData = {\n        paymentMethodNonce: nonce,\n        amount: getAmount()\n      };\n      processPayment(userId, token, paymentData)\n        .then(response => {\n          setInfo({ ...info, success: response.success, loading: false });\n          console.log(\"PAYMENT SUCCESS\");\n          //TODO: empty the cart\n          const orderData = {\n            products: products,\n            transaction_id: response.transaction.id,\n            amount: response.transaction.amount\n          };\n          console.log(orderData);\n         \n          //create order before emptying out\n          createOrder(userId, token, orderData);\n\n          cartEmpty(() => {\n            console.log(\"We didn't crash--TESTING\");\n          });\n          \n          \n          //TODO: force reload\n          setReload(!reload);\n        })\n        .catch(error => {\n          setInfo({ loading: false, success: false });\n          console.log(\"PAYMENT FAILED\");\n        });\n    });\n  };\n\n  const getAmount = () => {\n    let amount = 0;\n    products.map(p => {\n      amount = amount + p.price;\n    });\n    return amount;\n  };\n\n  return (\n    <div>\n      <h3>Your bill is {getAmount()} $</h3>\n      {showbtdropIn()}\n    </div>\n  );\n};\n\nexport default Paymentb;\n","import { API } from \"../../backend\";\n\n//gets token from backend--STEP:!\nexport const getmeToken = (userId, token) => {\n  return fetch(`${API}/payment/gettoken/${userId}`, {\n    method: \"GET\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`\n    }\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexport const processPayment = (userId, token, paymentInfo) => {\n  return fetch(`${API}/payment/braintree/${userId}`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`\n    },\n    body: JSON.stringify(paymentInfo)\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n","import { API } from \"../../backend\";\n\nexport const createOrder = (userId, token, orderData) => {\n  return fetch(`${API}/order/create/${userId}`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`\n    },\n    \n    body: JSON.stringify({ order: orderData })\n  })\n    .then(reponse => {\n      return reponse.json();\n    })\n    .catch(err => console.log(err));\n};\n","import React, { useState, useEffect } from \"react\";\nimport \"../styles.css\";\nimport { API } from \"../backend\";\nimport Base from \"./Base\";\nimport Card from \"./Card\";\nimport { loadCart } from \"./helper/cartHelper\";\nimport Paymentb from \"./Paymentb\";\n\nconst Cart = () => {\n  const [products, setProducts] = useState([]);\n  const [reload, setReload] = useState(false);\n  //reload changed in card as parameter\n\n  useEffect(() => {\n    setProducts(loadCart());\n  }, [reload]); //square braces says -- any changes, must update\n\n  const loadAllProducts = products => {\n    return (\n      <div>\n        <h2>This section is to load products</h2>\n        {products.map((product, index) => (\n          <Card\n            key={index}\n            product={product}\n            removeFromCart={true}\n            addtoCart={false}\n            setReload={setReload}\n            reload={reload}\n            //parameter from card\n          />\n        ))}\n      </div>\n    );\n  };\n  const loadCheckout = () => {\n    return (\n      <div>\n        <h2>This section for checkout</h2>\n      </div>\n    );\n  };\n\n  return (\n    <Base title=\"Cart Page\" description=\"Ready to checkout\">\n      <div className=\"row text-center\">\n        <div className=\"col-6\">{products.length>0 ? loadAllProducts(products):(<h3>\n          No Products in Cart\n          </h3>)}\n        </div>\n        <div className=\"col-6\">\n          <Paymentb products={products} setReload={setReload} />\n        </div>\n      </div>\n    </Base>\n  );\n};\n\nexport default Cart;\n","import React from \"react\";\r\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\r\nimport Home from \"./core/Home\";\r\nimport Signup from \"./user/Signup\";\r\nimport Signin from \"./user/Signin\";\r\nimport AdminRoute from \"./auth/helper/AdminRoutes\";\r\nimport PrivateRoute from \"./auth/helper/PrivateRoutes\";\r\nimport UserDashBoard from \"./user/UserDashBoard\"\r\nimport AdminDashBoard from \"./user/AdminDashBoard\";\r\nimport AddCategory from \"./admin/AddCategory\";\r\nimport ManageCategories from \"./admin/ManageCategories\";\r\nimport AddProduct from \"./admin/AddProduct\";\r\nimport ManageProducts from \"./admin/ManageProducts\";\r\nimport UpdateProduct from \"./admin/UpdateProduct\";\r\nimport UpdateCategory from \"./admin/Updatecategory\";\r\nimport Cart from \"./core/Cart\";\r\n\r\n\r\nconst Routes = () => {\r\n  return (\r\n    <BrowserRouter>\r\n      <Switch>\r\n        <Route path=\"/\" exact component={Home} />\r\n        <Route path=\"/signup\" exact component={Signup} />\r\n        <Route path=\"/signin\" exact component={Signin} />\r\n        <PrivateRoute path=\"/user/dashboard\" exact component={UserDashBoard}/>\r\n        <AdminRoute path=\"/admin/dashboard\" exact component={AdminDashBoard}/>\r\n        <AdminRoute path=\"/admin/create/category\" exact component={AddCategory}/>\r\n        <AdminRoute path=\"/admin/category\" exact component={ManageCategories}/>\r\n        <AdminRoute\r\n          path=\"/admin/category/update/:categoryId\"\r\n          exact\r\n          component={UpdateCategory}\r\n        />\r\n        <AdminRoute path=\"/admin/create/product\" exact component={AddProduct}/>\r\n        <AdminRoute path=\"/admin/products\" exact component={ManageProducts} />\r\n        <AdminRoute\r\n          path=\"/admin/product/update/:productId\"\r\n          exact\r\n          component={UpdateProduct}\r\n        />\r\n\r\n        <Route path=\"/cart\" exact component={Cart} />\r\n      </Switch>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default Routes;\r\n","import React from 'react';\r\nimport Routes from \"./Routes\";\r\nimport  ReactDOM  from 'react-dom';\r\n//used to render components\r\n\r\n//root-> public/index.js\r\nReactDOM.render(<Routes/> , document.getElementById(\"root\"));\r\n"],"sourceRoot":""}